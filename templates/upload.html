<!DOCTYPE html>

<html>

    <head>
        <title>PageDown Demo Page</title>
        
        <link rel="stylesheet" type="text/css" href="static/pagedown/demo/browser/demo.css" />
        <link rel="stylesheet" href="static/Skeleton-2.0.4/css/normalize.css">
        <link rel="stylesheet" href="static/Skeleton-2.0.4/css/skeleton.css">
        
        <script type="text/javascript" src="static/js/jquery-1.11.3.min.js"></script>
        <script type="text/javascript" src="static/pagedown/Markdown.Converter.js"></script>
        <script type="text/javascript" src="static/pagedown/Markdown.Sanitizer.js"></script>
        <script type="text/javascript" src="static/pagedown/Markdown.Editor.js"></script>
    </head>
    
    <body>
        <div class="section hero">
            <div class="container">
              <div class="row">
                <div class="one-half column">
                    <div class="wmd-panel">
                        <div id="wmd-button-bar"></div>
                        <textarea class="wmd-input" id="wmd-input">
{{ markdown }}
                        </textarea>
                    </div>
                </div>
                <div class="one-half column">
                    <div id="wmd-preview" class="wmd-panel wmd-preview"></div>
                </div>
              </div>
              <div class="row">
                <form action="upload" method="post" enctype="multipart/form-data">
                <input type="file" name="file" /><br />
                <input type="submit" value="Upload" />
              </div>

        <script type="text/javascript">
            (function () {
                var converter1 = Markdown.getSanitizingConverter();
                
                converter1.hooks.chain("preBlockGamut", function (text, rbg) {
                    return text.replace(/^ {0,3}""" *\n((?:.*?\n)+?) {0,3}""" *$/gm, function (whole, inner) {
                        return "<blockquote>" + rbg(inner) + "</blockquote>\n";
                    });
                });
                
                var editor1 = new Markdown.Editor(converter1);
                
                editor1.run();
                
                
                var help = function () { alert("Do you need help?"); }
                var options = {
                    helpButton: { handler: help },
                    strings: { quoteexample: "whatever you're quoting, put it right here" }
                };
            })();
        </script>
    </body>
</html>
